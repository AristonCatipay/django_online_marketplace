{%extends 'core/base.html'%}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="shadow-md w-1/2 my-6 mx-auto p-6 rounded-xl">
    <h1 class="mb-10 text-3xl font-bold">Conversation</h1>
    {% for message in conversation.messages.all %}
        <div id="toast-message-cta" class="w-full p-4 mb-3 rounded-xl {% if message.created_by != request.user %} text-gray-500 dark:bg-gray-800 dark:text-gray-400 {% else %} text-white-500 dark:bg-green-600 dark:text-gray-2000 {% endif %}" role="alert">
            <div class="flex">
                <div class="ml-3 text-sm font-normal">
                    <span class="mb-1 text-sm font-semibold text-gray-900 dark:text-white">{{ message.created_by.username.capitalize }}</span>
                    <span class="text-xs font-medium text-blue-600 dark:text-blue-500">{{ message.created_at|date:"F j, Y" }}</span>
                    <div class="mb-2 text-sm font-normal">{{ message.content }}</div> 
                </div>
            </div>
        </div>
    {% endfor %}
    
    <!-- <div id="toast-message-cta" class="w-full p-4 rounded-xl text-gray-500 dark:bg-gray-800 dark:text-gray-400" role="alert"> -->
        <!-- <div class="flex"> -->
            <!-- <img class="w-8 h-8 rounded-full shadow-lg" src="/docs/images/people/profile-picture-1.jpg" alt="Jese Leos image"/> -->
            <!-- <div class="ml-3 text-sm font-normal">
                <span class="mb-1 text-sm font-semibold text-gray-900 dark:text-white">Jese Leos</span>
                <div class="mb-2 text-sm font-normal">Hi Neil, thanks for sharing your thoughts regarding Flowbite.</div>  -->
                <!-- <a href="#" class="inline-flex px-2.5 py-1.5 text-xs font-medium text-center text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-blue-800">Reply</a>    -->
            <!-- </div> -->
            <!-- <button type="button" class="ml-auto -mx-1.5 -my-1.5 bg-white justify-center items-center flex-shrink-0 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700" data-dismiss-target="#toast-message-cta" aria-label="Close">
                <span class="sr-only">Close</span>
                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                </svg>
            </button> -->
        <!-- </div> -->
    <!-- </div> -->


    <form method="post" action="." class="mt-6">
        {% csrf_token %}
    
        {{ form.as_p }}
        <button class="mt-10 inline-block px-4 py-3 font-semibold rounded-xl hover:text-green-500"><i class="fa-regular fa-paper-plane fa-xl"></i></button>
    </form>
</div>
{% endblock %}